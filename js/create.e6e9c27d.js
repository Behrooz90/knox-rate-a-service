(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["create"],{"0b95":function(e,t,n){"use strict";n("2e98")},"2e98":function(e,t,n){},"46fe":function(e,t,n){"use strict";var a=n("3f4a");t["a"]={index:function(){return Object(a["a"])().get("posts")},create:function(e){return Object(a["a"])().post("posts",e)},delete:function(e){return Object(a["a"])().delete("posts/id/"+e)},item:function(e){return Object(a["a"])().get("posts/id/"+e)},user:function(e){return Object(a["a"])().get("posts/user/"+e)},addComment:function(e,t){return Object(a["a"])().post("posts/"+e+"/comments",{content:t})},upVote:function(e){return Object(a["a"])().post("posts/"+e+"/upvote")},downVote:function(e){return Object(a["a"])().post("posts/"+e+"/downvote")}}},b0c0:function(e,t,n){var a=n("83ab"),r=n("9bf2").f,c=Function.prototype,o=c.toString,i=/^\s*function ([^ (]*)/,u="name";a&&!(u in c)&&r(c,u,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},c9c2:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),r=Object(a["K"])("data-v-754a4b51");Object(a["t"])("data-v-754a4b51");var c={class:"create-post container"},o=Object(a["g"])("h1",null,"Create Post",-1),i={class:"error"},u={id:"image-upload"},s={key:0},l=Object(a["f"])("Drag your image here to begin"),b=Object(a["g"])("br",null,null,-1),p=Object(a["f"])(" or click to browse"),d={key:1},f=Object(a["g"])("input",{class:"button",type:"submit",value:"Create post"},null,-1);Object(a["r"])();var g=r((function(e,t,n,r,g,m){return Object(a["q"])(),Object(a["d"])("div",c,[o,Object(a["g"])("form",{onSubmit:t[5]||(t[5]=Object(a["J"])((function(){return m.create&&m.create.apply(m,arguments)}),["prevent"])),enctype:"multipart/form-data"},[Object(a["g"])("p",i,Object(a["A"])(g.error),1),Object(a["I"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.title=e}),type:"text",placeholder:"Title",ref:"title"},null,512),[[a["D"],g.title]]),Object(a["I"])(Object(a["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.subvue=e}),type:"text",placeholder:"Subvue"},null,512),[[a["D"],g.subvue]]),g.imagePreview?(Object(a["q"])(),Object(a["d"])("div",{key:0,id:"image-preview",style:"background-image: url("+g.imagePreview+")"},null,4)):Object(a["e"])("",!0),Object(a["g"])("div",u,[Object(a["g"])("p",null,[g.image?(Object(a["q"])(),Object(a["d"])("span",d,Object(a["A"])(g.image.name),1)):(Object(a["q"])(),Object(a["d"])("span",s,[l,b,p]))]),Object(a["g"])("input",{type:"file",onChange:t[3]||(t[3]=function(){return m.fileChanged&&m.fileChanged.apply(m,arguments)}),accept:"image/*"},null,32)]),Object(a["I"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.content=e}),name:"name",placeholder:"Content",rows:"25",cols:"80"},null,512),[[a["D"],g.content]]),f],32)])})),m=n("46fe"),j={name:"create-post",data:function(){return{title:"",subvue:"",content:"",error:null,image:null,imagePreview:null}},methods:{create:function(){var e=this,t=new FormData;t.append("title",this.title),t.append("subvue",this.subvue),t.append("content",this.content),console.log(t),this.image&&t.append("image",this.image,this.image.name),m["a"].create(t).then((function(t){e.$router.push({name:"Post",params:{id:t.data.id,subvuePermalink:t.data.subvue.permalink}})})).catch((function(t){e.error=t.response.data.error}))},fileChanged:function(e){var t=this;this.image=e.target.files[0];var n=new FileReader;n.onload=function(e){t.imagePreview=e.target.result},n.readAsDataURL(this.image)}},mounted:function(){this.$refs.title.focus()}};n("0b95");j.render=g,j.__scopeId="data-v-754a4b51";t["default"]=j}}]);
//# sourceMappingURL=create.e6e9c27d.js.map